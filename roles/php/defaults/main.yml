##
#   Copyright 2023 TechDivision GmbH
#
#   Licensed under the Apache License, Version 2.0 (the "License");
#   you may not use this file except in compliance with the License.
#   You may obtain a copy of the License at
#
#       http://www.apache.org/licenses/LICENSE-2.0
#
#   Unless required by applicable law or agreed to in writing, software
#   distributed under the License is distributed on an "AS IS" BASIS,
#   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#   See the License for the specific language governing permissions and
#   limitations under the License.
##
---

php_multi:
  - version: "5.6"
  - version: "7.0"
  - version: "7.1"
  - version: "7.2"
    default: true
    config:
      php_cli_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "error_reporting"
          value: "32767"
      php_fpm_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "max_execution_time"
          value: "900"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "memory_limit"
          value: "512M"
        - conf: "upload_max_filesize"
          value: "128M"
        - conf: "post_max_size"
          value: "128M"
        - conf: "max_input_vars"
          value: "10000"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "error_reporting"
          value: "32767"
      php_modules:
        - "xmlrpc"
        - "xml"
        - "readline"
        - "opcache"
        - "mysql"
        - "json"
        - "intl"
        - "gd"
        - "fpm"
        - "curl"
        - "cli"
        - "soap"
        - "mbstring"
        - "zip"
        - "bcmath"
        - "ldap"
        - "xdebug"
        - "sqlite3"
        - "imagick"
  - version: "7.3"
    compile_xdebug:
      status: true
      version: 2.9.8
      config_suffix: "compiled"
    config:
      php_cli_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "error_reporting"
          value: "32767"
      php_fpm_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "max_execution_time"
          value: "900"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "memory_limit"
          value: "512M"
        - conf: "upload_max_filesize"
          value: "128M"
        - conf: "post_max_size"
          value: "128M"
        - conf: "max_input_vars"
          value: "10000"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "error_reporting"
          value: "32767"
      php_modules:
        - "xmlrpc"
        - "xml"
        - "readline"
        - "opcache"
        - "mysql"
        - "json"
        - "intl"
        - "gd"
        - "fpm"
        - "curl"
        - "cli"
        - "soap"
        - "mbstring"
        - "zip"
        - "bcmath"
        - "ldap"
        - "sqlite3"
        - "imagick"
        - "xdebug"
  - version: "7.4"
    compile_xdebug:
      status: true
      version: 2.9.8
      config_suffix: "compiled"
    config:
      php_cli_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "error_reporting"
          value: "32767"
      php_fpm_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "max_execution_time"
          value: "900"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "memory_limit"
          value: "512M"
        - conf: "upload_max_filesize"
          value: "128M"
        - conf: "post_max_size"
          value: "128M"
        - conf: "max_input_vars"
          value: "10000"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "error_reporting"
          value: "32767"
      php_modules:
        - "xmlrpc"
        - "xml"
        - "readline"
        - "opcache"
        - "mysql"
        - "json"
        - "intl"
        - "gd"
        - "fpm"
        - "curl"
        - "cli"
        - "soap"
        - "mbstring"
        - "zip"
        - "bcmath"
        - "ldap"
        - "sqlite3"
        - "imagick"
        - "xdebug"
  - version: "8.0"
    config:
      php_cli_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "error_reporting"
          value: "32767"
      php_fpm_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "max_execution_time"
          value: "900"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "memory_limit"
          value: "512M"
        - conf: "upload_max_filesize"
          value: "128M"
        - conf: "post_max_size"
          value: "128M"
        - conf: "max_input_vars"
          value: "10000"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "error_reporting"
          value: "32767"
      php_modules:
        - "xmlrpc"
        - "xml"
        - "readline"
        - "opcache"
        - "mysql"
        - "intl"
        - "gd"
        - "fpm"
        - "curl"
        - "cli"
        - "soap"
        - "mbstring"
        - "zip"
        - "bcmath"
        - "ldap"
        - "sqlite3"
        - "imagick"
        - "xdebug"
  - version: "8.1"
    config:
      php_cli_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "error_reporting"
          value: "32767"
      php_fpm_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "max_execution_time"
          value: "900"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "memory_limit"
          value: "512M"
        - conf: "upload_max_filesize"
          value: "128M"
        - conf: "post_max_size"
          value: "128M"
        - conf: "max_input_vars"
          value: "10000"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "error_reporting"
          value: "32767"
      php_modules:
        - "xmlrpc"
        - "xml"
        - "readline"
        - "opcache"
        - "mysql"
        - "intl"
        - "gd"
        - "fpm"
        - "curl"
        - "cli"
        - "soap"
        - "mbstring"
        - "zip"
        - "bcmath"
        - "ldap"
        - "sqlite3"
        - "imagick"
        - "xdebug"
  - version: "8.2"
    config:
      php_cli_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "memory_limit"
          value: "8192M"
        - conf: "error_reporting"
          value: "32767"
      php_fpm_settings:
        - conf: "date.timezone"
          value: "Europe/Berlin"
        - conf: "max_execution_time"
          value: "900"
        - conf: "error_log"
          value: "{{ php_error_log_path }}"
        - conf: "memory_limit"
          value: "512M"
        - conf: "upload_max_filesize"
          value: "128M"
        - conf: "post_max_size"
          value: "128M"
        - conf: "max_input_vars"
          value: "10000"
        - conf: "sendmail_path"
          value: "{{ mailhog_bin_target }} sendmail test@test"
        - conf: "error_reporting"
          value: "32767"
      php_modules:
        - "xmlrpc"
        - "xml"
        - "readline"
        - "opcache"
        - "mysql"
        - "intl"
        - "gd"
        - "fpm"
        - "curl"
        - "cli"
        - "soap"
        - "mbstring"
        - "zip"
        - "bcmath"
        - "ldap"
        - "sqlite3"
        - "imagick"
        - "xdebug"

php_modules:
  - "xmlrpc"
  - "xml"
  - "readline"
  - "opcache"
  - "mysql"
  - "json"
  - "intl"
  - "gd"
  - "fpm"
  - "curl"
  - "cli"
  - "soap"
  - "mbstring"
  - "zip"
  - "bcmath"
  - "ldap"
  - "mcrypt"
  - "xdebug"
  - "sqlite3"
  - "imagick"


php_error_log_path: "/tmp/php_errors.log"
php_version_string_default: "php{{ php_version }}"
php_error_log_path_default: "/tmp/php_errors.log"
php_cli_conf_path_default: "/etc/php/{{ php_version }}/cli/conf.d/95-valet-sh.ini"
php_fpm_conf_path_default: "/etc/php/{{ php_version }}/fpm/conf.d/95-valet-sh.ini"
php_fpm_pool_config_default: "/etc/php/{{ php_version }}/fpm/pool.d/www.conf"

mailhog_bin_target: "/usr/local/bin/mailhog"

php_cli_settings_default:
  - conf: "date.timezone"
    value: "Europe/Berlin"
  - conf: "error_log"
    value: "{{ php_error_log_path }}"
  - conf: "sendmail_path"
    value: "{{ mailhog_bin_target }} sendmail test@test"
  - conf: "memory_limit"
    value: "8192M"
  - conf: "error_reporting"
    value: "32767"


php_cli_settings_additional_default: []

php_fpm_pool_configuration_default:
  - conf: "user"
    value: "{{ current_user }}"
  - conf: "group"
    value: "{{ current_group }}"
  - conf: "listen.owner"
    value: "{{ current_user }}"
  - conf: "listen.group"
    value: "{{ current_group }}"
  - conf: "env[PATH]"
    value: "/usr/local/bin:/usr/bin:/bin"


php_fpm_settings_default:
  - conf: "date.timezone"
    value: "Europe/Berlin"
  - conf: "max_execution_time"
    value: "900"
  - conf: "error_log"
    value: "{{ php_error_log_path }}"
  - conf: "memory_limit"
    value: "512M"
  - conf: "upload_max_filesize"
    value: "128M"
  - conf: "post_max_size"
    value: "128M"
  - conf: "max_input_vars"
    value: "10000"
  - conf: "sendmail_path"
    value: "{{ mailhog_bin_target }} sendmail test@test"
  - conf: "error_reporting"
    value: "32767"

## mac os specific settings
php_fpm_settings_default_macos:
  - conf: "date.timezone"
    value: "Europe/Berlin"
  - conf: "max_execution_time"
    value: "900"
  - conf: "error_log"
    value: "{{ php_error_log_path }}"
  - conf: "memory_limit"
    value: "8192M"
  - conf: "upload_max_filesize"
    value: "128M"
  - conf: "post_max_size"
    value: "128M"
  - conf: "max_input_vars"
    value: "10000"
  - conf: "sendmail_path"
    value: "{{ mailhog_bin_target }} sendmail test@test"
  - conf: "error_reporting"
    value: "32767"

php_fpm_settings_additional_default: []

php_modules_default: "{{ php_modules }}"

native_xdebug2_versions:
  - "5.6"
  - "7.0"
  - "7.1"
  - "7.2"

native_xdebug3_versions:
  - "7.3"
  - "7.4"
  - "8.0"
  - "8.1"
  - "8.2"

compiled_xdebug2_versions:
  - "7.3"
  - "7.4"
